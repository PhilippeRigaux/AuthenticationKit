# AuthenticationKit.MutableUser

This interface aggregates [AuthenticationKit.User](AuthenticationKit.User.md), meaning all methods required by AuthenticationKit.User will also be required by AuthenticationKit.MutableUser.

This interfaces should be implemented by a user class that can be modified. It is perfectly acceptable to use a single editable user class, as opposed to a mutable and immutable pair of classes.

## Interface Methods

<pre id="method.loginkey"><span style="font-family: 'source-code-pro', 'menlo', 'courier', monospace; color: #000000;"><span style="color: #0000FF;">Sub</span> LoginKey (<span style="color: #0000FF;">Assigns</span> Value <span style="color: #0000FF;">As</span> <span style="color: #0000FF;">Text</span>)</span></pre>
Allows the login key to be changed for the user. If a user class does not allow editable login keys (not recommended) then simply leave this method empty.

<pre id="method.setsecuritydetails"><span style="font-family: 'source-code-pro', 'menlo', 'courier', monospace; color: #000000;"><span style="color: #0000FF;">Sub</span> SetSecurityDetails (Iterations <span style="color: #0000FF;">As</span> UInteger, Algorithm <span style="color: #0000FF;">As</span> Xojo.Crypto.HashAlgorithms, ValidationHash <span style="color: #0000FF;">As</span> Xojo.Core.MemoryBlock, PasswordSalt <span style="color: #0000FF;">As</span> Xojo.Core.MemoryBlock, SecondFactorSalt <span style="color: #0000FF;">As</span> Xojo.Core.MemoryBlock)</span></pre>
When changing the password for a user, new security details will be generated by the framework and passed to the user class via this method.

`SecondFactorSalt` will be nil if two factor authentication is to be disabled. All other parameters are required and will be set.

## Extension Methods

These methods are supplied by the `AuthenticationKit` module automatically to all implementors of the interface.

<pre id="method.setpassword"><span style="font-family: 'source-code-pro', 'menlo', 'courier', monospace; color: #000000;"><span style="color: #0000FF;">Function</span> SetPassword (<span style="color: #0000FF;">Extends</span> User <span style="color: #0000FF;">As</span> AuthenticationKit.MutableUser, Password <span style="color: #0000FF;">As</span> <span style="color: #0000FF;">Text</span>, Iterations <span style="color: #0000FF;">As</span> UInteger, Algorithm <span style="color: #0000FF;">As</span> Xojo.Crypto.HashAlgorithms) <span style="color: #0000FF;">As</span> AuthenticationKit.Token()</span></pre>
Change the user's password with two factor authentication disabled.

- `Password` is the user's password.
- `Iterations` is the number of PBKDF2 iterations used to hash the password. The same password hashed with different iteration counts will produce different hashes. More iterations requires more cpu time, making the hash harder to break. Every server is different, so best practice is to experiment with iteration counts to produce a desired execution time.
- `Algorithm` is the hashing algorithm to use. The algorithm will dictate the length of the hashes produced, so if possible, use SHA-512.

<pre><span style="font-family: 'source-code-pro', 'menlo', 'courier', monospace; color: #000000;"><span style="color: #0000FF;">Function</span> SetPassword (<span style="color: #0000FF;">Extends</span> User <span style="color: #0000FF;">As</span> AuthenticationKit.MutableUser, Password <span style="color: #0000FF;">As</span> <span style="color: #0000FF;">Text</span>, Iterations <span style="color: #0000FF;">As</span> UInteger, Algorithm <span style="color: #0000FF;">As</span> Xojo.Crypto.HashAlgorithms, <span style="color: #0000FF;">ByRef</span> Generator <span style="color: #0000FF;">As</span> AuthenticationKit.TwoFactorProfile) <span style="color: #0000FF;">As</span> AuthenticationKit.Token()</span></pre>
Change the user's password with two factor authentication enabled.

- `Password`, `Iterations`, and `Algorithm` are the same as the other method signature.
- `Generator` is the [AuthenticationKit.TwoFactorProfile](AuthenticationKit.TwoFactorProfile.md) to be used. If `Nil`, a new generator will be created and used.

## See Also

[AuthenticationKit.User](AuthenticationKit.User.md)